<section class="normative">
<h2>Transformations</h2>

    <p>
        Some DIDs created with other DID methods can be deterministically transformed into a
        <code>did:webs</code>. This allows identifiers to function transparently in more than
        a pure <code>did:webs</code> ecosystem, and facilitates migration and upgrade. To a
        lesser extent, equivalency transformations may also be possible the other direction,
        although potential lossiness in security is a concern.
    </p>
    <h3><code>did:key</code></h3>
    <p>
        A <code>did:key</code> can be transformed into a <code>did:webs</code> by using its public key as
        the sole input to an <a>inception event</a> for a KERI <a>direct mode</a> AID. Essentially this
        re-expresses the entropy from <code>did:key</code>'s SHA256 hash as the Blake-3 hash of the
        <a>CESR</a> encoding of the same key. The result is an AID that has no <a>witnesses</a> and that
        cannot rotate keys. Both methods are <a>self-certifying</a>, inception inputs are mappable, and
        semantics match.
    </p>
    <p>
        The opposite transformation is also generally valid, with the caveat that KERI supports more
        key types than <code>did:key</code>. As long as the key types map, a KERI direct mode AID
        can be expressed as a <code>did:key</code> with zero information loss.
    </p>
    <p>
        Theoretically, a <a>transferrable</a> AID could also be transformed into a <code>did:key</code>.
        However, the conversion would be lossy, because the controller of the AID intends semantics
        (pre-rotation protections) that <code>did:key</code> cannot express. If an AID has witnesses
        (whether the AID is transferrable or not), there is a similar problem with lost protections.
        Therefore, this transformation is discouraged as an interop strategy, even if the AID has
        nothing but an inception event.
    </p>
    <h3><code>did:peer</code></h3>
    <p>
        Since <code>did:peer</code> with <code>numalgo=0</code> exactly matches the format, semantics,
        and intent of <code>did:key</code>, such peer DIDs have exactly the same transformation
        potential, in both directions, as <code>did:key</code>.
    </p>
    <p>
        Fancier peer DIDs have a numeric basis other than <code>numalgo=0</code>. Static peer
        DIDs in this category can store service endpoints and additional keys in a DID doc. A
        <code>did:webs</code> can express these same semantics via its <a>TEL</a>. Thus, static
        peer DIDs may be transformable to <a>non-transferrable</a> <code>did:webs</code> without
        witnesses. Dynamic peer DIDs cannot be transformed to a <code>did:webs</code> because
        they are <a>transferrable</a> yet lack a <em>next</em> key to satisfies KERI's pre-rotation
        feature.
    </p>
    <h3>Other DIDs using KERI AIDs as MSI</h3>
    <p>
        Any DID method that uses uses a KERI <a>AID</a> as its <a>MSI</a> is trivially and losslessly
        transformable in both directions, since the <code>did:webs</code> method defines all DID docs with the same AID to be
        instances of metadata for the same identifier. This could be the basis of future work
        on a DID method for environments using extremely constrained hardware or exotic
        transport protocols, for example.
    </p>
    <h3>Additional DID methods</h3>
    <p>
        A <code>did:webs</code> may also be transformable to or from other DID types as well (e.g.,
        ones using a blockchain as a VDR). However, caveats apply:
    </p>
    <table>
        <tr>
            <th>Direction</th><th>Caveats</th>
        </tr>
        <tr>
            <td>other &rarr; <code>did:webs</code></td>
            <td>
                The other method MUST be <a>self-certifying</a>. The resulting AID will either use
                <a>direct mode</a> or be <a>non-transferrable</a>, without <a>witnesses</a>.
            </td>
        </tr>
        <tr>
            <td><code>did:webs</code> &rarr; other</td>
            <td>
                The KEL MUST contain only an inception event. The other method MUST NOT require an
                inception input that's unavailable to KERI (e.g., a payment address or user handle).
                The AID MUST be <a>non-transferrable</a> (unless the other method supports pre-rotation).
                The AID MUST NOT use weighted multi-sig (unless the other method supports it).
            </td>
        </tr>
    </table>
</section>